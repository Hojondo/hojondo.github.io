<!DOCTYPE html>
<html lang="zh-CN">
  

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="微信小程序-原生, Hojondo&#39;s">
<!--    <meta name="baidu-site-verification" content="fmlEuI34ir" />-->
<!--    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48" />-->
    <meta name="description" content="腾讯 H5 文档库
微信小程序0.文件类型
.json
app.json 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等
project.config.json 小程序开发者工具在每个项目的根目">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>微信小程序-原生 | Hojondo&#39;s</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        code[class*="language-"],
            pre[class*="language-"] {
                white-space: pre !important;
            }

            
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script defer>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


  <body>
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-BJ2KZHWDKZ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-BJ2KZHWDKZ');
</script>

 <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Hojondo's</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-folder-open"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-heart"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-link"></i>
            
            <span>友链</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>树洞</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Hojondo's</div>
        <div class="logo-desc">
            
            前端开发
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-folder-open"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-heart"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                友链
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                树洞
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/hojondo" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/hojondo" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
        <div class="progress-bar"></div>
    </nav>

</header>
 
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/19.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        微信小程序-原生
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%B7%A8%E7%AB%AF/" target="_blank">
                                <span class="chip bg-color">跨端</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E7%AC%94%E8%AE%B0/" class="post-category" target="_blank">
                                笔记
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-03-02
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                        Ryan Who
                    
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        11.8k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        50 分
                    </div>
                    
                

				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://tgideas.qq.com/doc/index.html">腾讯 H5 文档库</a></p>
<h1 id="微信小程序"><a href="#微信小程序" class="headerlink" title="微信小程序"></a>微信小程序</h1><h1 id="0-文件类型"><a href="#0-文件类型" class="headerlink" title="0.文件类型"></a>0.文件类型</h1><ul>
<li>.json<ul>
<li><code>app.json</code> 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等</li>
<li><code>project.config.json</code> 小程序开发者工具在每个项目的根目录都会生成一个 <code>project.config.json</code>，你在工具上做的任何配置都会写入到这个文件，当你重新安装工具或者换电脑工作时，你只要载入同一个项目的代码包，开发者工具就自动会帮你恢复到当时你开发项目时的个性化配置，其中会包括编辑器的颜色、代码上传时自动压缩等等一系列选项</li>
<li><code>page.json</code> 用来表示 pages/logs 目录下的 <code>logs.json</code> 这类和小程序页面相关的配置。</li>
</ul>
</li>
<li>.wxml<ul>
<li>标签：是 <code>view</code>, <code>button</code>, <code>text</code> 等等，这些标签就是小程序给开发者包装好的基本能力，还提供了地图、视频、音频等等组件能力</li>
<li>MVVM 开发模式 ：<code>&#123;&#123;value&#125;&#125;</code> <code>wx:if</code>等</li>
</ul>
</li>
<li>.wxss<ul>
<li>提供了新的尺寸单位：<code>rpx</code></li>
<li>提供全局样式<code>app.wxss</code>和局部样式<code>page.wxss</code></li>
</ul>
</li>
<li>.js<ul>
<li><code>wxml</code>中 <code>[bindtap=&#39;funcX&#39;]</code>， <code>js</code>中 <code>funcX:function()&#123;&#125;</code></li>
</ul>
</li>
</ul>
<h1 id="1-json-配置参数"><a href="#1-json-配置参数" class="headerlink" title="1. json 配置参数"></a>1. json 配置参数</h1><h3 id="1-1-app-json-配置参数"><a href="#1-1-app-json-配置参数" class="headerlink" title="1.1 app.json 配置参数"></a>1.1 app.json 配置参数</h3><table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#pages">pages</a></td>
<td>String Array</td>
<td>是</td>
<td>页面路径列表</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#window">window</a></td>
<td>Object</td>
<td>否</td>
<td>全局的默认窗口表现</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#tabbar">tabBar</a></td>
<td>Object</td>
<td>否</td>
<td>底部 <code>tab</code> 栏的表现</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#networktimeout">networkTimeout</a></td>
<td>Object</td>
<td>否</td>
<td>网络超时时间</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#debug">debug</a></td>
<td>Boolean</td>
<td>否</td>
<td>是否开启 debug 模式，默认关闭</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#functionalpages">functionalPages</a></td>
<td>Boolean</td>
<td>否</td>
<td>是否启用插件功能页，默认关闭</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#subpackages">subPackages</a></td>
<td>Object Array</td>
<td>否</td>
<td>分包结构配置</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#workers">workers</a></td>
<td>String</td>
<td>否</td>
<td><code>Worker</code> 代码放置的目录</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#requiredbackgroundmodes">requiredBackgroundModes</a></td>
<td>Array</td>
<td>否</td>
<td>需要在后台使用的能力，如“音乐播放”</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#plugins">plugins</a></td>
<td>Object</td>
<td>否</td>
<td>使用到的插件</td>
</tr>
</tbody></table>
<blockquote>
<p>示例：</p>
<pre class=" language-json"><code class="language-json">&amp;#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pages/index/index"</span><span class="token punctuation">,</span> <span class="token string">"pages/logs/index"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"window"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token property">"navigationBarTitleText"</span><span class="token operator">:</span> <span class="token string">"Demo"</span>
  &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token property">"tabBar"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token property">"list"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/index/index"</span><span class="token punctuation">,</span>
        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"首页"</span>
      &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
      &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token property">"pagePath"</span><span class="token operator">:</span> <span class="token string">"pages/logs/logs"</span><span class="token punctuation">,</span>
        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"日志"</span>
      &amp;#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token punctuation">]</span>
  &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token property">"networkTimeout"</span><span class="token operator">:</span> &amp;#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token property">"request"</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">"downloadFile"</span><span class="token operator">:</span> <span class="token number">10000</span>
  &amp;#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token property">"debug"</span><span class="token operator">:</span> <span class="token boolean">true</span>
&amp;#<span class="token number">125</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
<ul>
<li><p><strong>pages</strong></p>
<p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径+文件名 信息。文件名不需要写文件后缀，框架会自动去寻找对于位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理</p>
</li>
<li><p><strong>window</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>navigationBarBackgroundColor</td>
<td>HexColor(十六进制颜色)</td>
<td>#000000</td>
<td>导航栏背景颜色，如 <code>#000000</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
<td></td>
</tr>
<tr>
<td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏标题文字内容</td>
<td></td>
</tr>
<tr>
<td>navigationStyle</td>
<td>String</td>
<td>default</td>
<td>导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮</td>
<td>微信版本 6.6.0</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
<td></td>
</tr>
<tr>
<td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td>
<td></td>
</tr>
<tr>
<td>backgroundColorTop</td>
<td>String</td>
<td>#ffffff</td>
<td>顶部窗口的背景色，仅 iOS 支持</td>
<td>微信版本 6.5.16</td>
</tr>
<tr>
<td>backgroundColorBottom</td>
<td>String</td>
<td>#ffffff</td>
<td>底部窗口的背景色，仅 iOS 支持</td>
<td>微信版本 6.5.16</td>
</tr>
<tr>
<td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>是否全局开启下拉刷新。 详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh">Page.onPullDownRefresh</a></td>
<td></td>
</tr>
<tr>
<td>onReachBottomDistance</td>
<td>Number</td>
<td>50</td>
<td>页面上拉触底事件触发时距页面底部距离，单位为 px。 详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom">Page.onReachButom</a></td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p><strong>tabBar</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>color</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字默认颜色</td>
</tr>
<tr>
<td>selectedColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 上的文字选中时的颜色</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>是</td>
<td></td>
<td>tab 的背景色</td>
</tr>
<tr>
<td>borderStyle</td>
<td>String</td>
<td>否</td>
<td>black</td>
<td>tabbar 上边框的颜色， 仅支持 <code>black</code> / <code>white</code></td>
</tr>
<tr>
<td>list</td>
<td>Array</td>
<td>是</td>
<td></td>
<td>tab 的列表，详见 <code>list</code> 属性说明，最少 2 个、最多 5 个 tab</td>
</tr>
<tr>
<td>position</td>
<td>String</td>
<td>否</td>
<td>bottom</td>
<td>tabBar 的位置，仅支持 <code>bottom</code> / <code>top</code></td>
</tr>
</tbody></table>
<p>其中 List 接受一个数组 。只能配置（2-5）个 tab，tab 按数组的顺序排序，每个项都是一个对象，其属性值如下</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>pagePath</td>
<td>String</td>
<td>是</td>
<td>页面路径，必须在 pages 中先定义</td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>是</td>
<td>tab 上按钮文字</td>
</tr>
<tr>
<td>iconPath</td>
<td>String</td>
<td>否</td>
<td>图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 postion 为 top 时，不显示 icon。</strong></td>
</tr>
<tr>
<td>selectedIconPath</td>
<td>String</td>
<td>否</td>
<td>选中时的图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 postion 为 top 时，不显示 icon。</strong></td>
</tr>
</tbody></table>
</li>
<li><p><strong>networkTimeout</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>request</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network-request.html">wx.request</a> 的超时时间，单位毫秒。</td>
</tr>
<tr>
<td>connectSocket</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network-socket.html">wx.connectSocket</a> 的超时时间，单位毫秒。</td>
</tr>
<tr>
<td>uploadFile</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network-file.html#wxuploadfileobject">wx.uploadFile</a> 的超时时间，单位毫秒。</td>
</tr>
<tr>
<td>downloadFile</td>
<td>Number</td>
<td>否</td>
<td>60000</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network-file.html#wxdownloadfileobject">wx.downloadFile</a> 的超时时间，单位毫秒。</td>
</tr>
</tbody></table>
</li>
<li><p><strong>debug</strong></p>
<p>可以在开发者工具中开启 <code>debug</code> 模式，在开发者工具的控制台面板，调试信息以 <code>info</code> 的形式给出，其信息有 Page 的注册，页面路由，数据更新，事件触发等。可以帮助开发者快速定位一些常见的问题。</p>
</li>
<li><p><strong>functionalPages</strong> <em>基础库 2.1.0 开始支持，低版本需做兼容处理</em></p>
<p>启用<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages.html">插件功能页</a>时，插件所有者小程序需要设置其 <code>functionalPages</code> 为 <code>true</code>。</p>
</li>
<li><p><strong>subPackages</strong> <em>微信客户端 6.6.0 ，基础库 1.7.3 及以上版本支持</em></p>
<p>启用<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages.html">分包加载</a>时，声明项目分包结构。</p>
</li>
<li><p><strong>workers</strong> <em>基础库 1.9.90 开始支持，低版本需做兼容处理</em></p>
<p>使用 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/workers.html">Worker</a> 处理多线程任务时，设置 <code>Worker</code> 代码放置的目录</p>
</li>
<li><p><strong>requiredBackgroundModes</strong> <em>微信客户端 6.7.2 及以上版本支持</em></p>
<p>申明需要后台运行的能力，类型为数组。目前暂只支持 audio：</p>
<p>如 <code>&quot;requiredBackgroundModes&quot;: [&quot;audio&quot;],</code></p>
</li>
<li><p><strong>plugins</strong> <em>基础库 1.9.6 开始支持，低版本需做兼容处理</em></p>
<p>声明小程序需要使用的<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/using.html">插件</a>。</p>
</li>
</ul>
<h3 id="1-2-page-json-配置参数"><a href="#1-2-page-json-配置参数" class="headerlink" title="1.2 page.json 配置参数"></a>1.2 page.json 配置参数</h3><p>每一个小程序页面也可以使用<code>.json</code>文件来对本页面的窗口表现进行配置。页面的配置只能设置 <code>app.json</code> 中部分 <code>window</code> 配置项的内容，页面中配置项会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>navigationBarBackgroundColor</td>
<td>HexColor</td>
<td>#000000</td>
<td>导航栏背景颜色，如 <code>#000000</code></td>
</tr>
<tr>
<td>navigationBarTextStyle</td>
<td>String</td>
<td>white</td>
<td>导航栏标题颜色，仅支持 <code>black</code> / <code>white</code></td>
</tr>
<tr>
<td>navigationBarTitleText</td>
<td>String</td>
<td></td>
<td>导航栏标题文字内容</td>
</tr>
<tr>
<td>backgroundColor</td>
<td>HexColor</td>
<td>#ffffff</td>
<td>窗口的背景色</td>
</tr>
<tr>
<td>backgroundTextStyle</td>
<td>String</td>
<td>dark</td>
<td>下拉 loading 的样式，仅支持 <code>dark</code> / <code>light</code></td>
</tr>
<tr>
<td>enablePullDownRefresh</td>
<td>Boolean</td>
<td>false</td>
<td>是否全局开启下拉刷新。 详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh">Page.onPullDownRefresh</a></td>
</tr>
<tr>
<td>onReachBottomDistance</td>
<td>Number</td>
<td>50</td>
<td>页面上拉触底事件触发时距页面底部距离，单位为 px。 详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom">Page.onReachButom</a></td>
</tr>
<tr>
<td>disableScroll</td>
<td>Boolean</td>
<td>false</td>
<td>设置为 <code>true</code> 则页面整体不能上下滚动；只在页面配置中有效，无法在 <code>app.json</code> 中设置该项</td>
</tr>
</tbody></table>
<h1 id="2-视图层"><a href="#2-视图层" class="headerlink" title="2 视图层"></a>2 视图层</h1><ul>
<li><strong>WXML</strong>(WeiXin Markup language) 用于描述页面的结构。</li>
<li><strong>WXS</strong>(WeiXin Script) 是小程序的一套脚本语言，结合 <code>WXML</code>，可以构建出页面的结构。</li>
<li><strong>WXSS</strong>(WeiXin Style Sheet) 用于描述页面的样式。</li>
<li><strong>组件</strong>(Component)是视图的基本组成单元。</li>
</ul>
<h2 id="2-1-WXML"><a href="#2-1-WXML" class="headerlink" title="2.1 WXML"></a>2.1 WXML</h2><ul>
<li><p>数据绑定</p>
<ul>
<li><p>简单绑定</p>
<ul>
<li>内容 ：<code>&lt;view&gt; &#123;&#123; message &#125;&#125; &lt;/view&gt;</code></li>
<li>组件属性：<code>&lt;view id=&quot;item-&#123;&#123;id&#125;&#125;&quot;&gt; &lt;/view&gt;</code></li>
<li>控制属性：<code>&lt;view wx:if=&quot;&#123;&#123;condition&#125;&#125;&quot;&gt; &lt;/view&gt;</code></li>
<li>关键字：<code>&lt;checkbox checked=&quot;&#123;&#123;false&#125;&#125;&quot;&gt; &lt;/checkbox&gt;</code></li>
</ul>
</li>
<li><p>运算</p>
<ul>
<li>三元运算：<code>&lt;view hidden=&quot;&#123; &#123;flag ? true : false&#125; &#125;&quot;&gt; Hidden &lt;/view&gt;</code></li>
<li>算术运算：<code>&lt;view&gt; &#123;&#123;a + b&#125;&#125; + &#123;&#123;c&#125;&#125; + d &lt;/view&gt;</code></li>
<li>逻辑判断：<code>&lt;view wx:if=&quot;&#123;&#123;length > 5&#125;&#125;&quot;&gt; &lt;/view&gt;</code></li>
<li>字符串运算：<code>&lt;view&gt;&#123;&#123;"hello" + name&#125;&#125;&lt;/view&gt;</code></li>
<li>数据路径运算：<code>&lt;view&gt;&#123;&#123;object.key&#125;&#125; &#123;&#123;array[0]&#125;&#125;&lt;/view&gt;</code></li>
</ul>
</li>
<li><p>组合</p>
<ul>
<li><p>数组：<code>&lt;view wx:for=&quot;&#123;&#123;[id, 1, 2, 3, 4]&#125;&#125;&quot;&gt; &#123;&#123;item&#125;&#125; &lt;/view&gt;</code></p>
</li>
<li><p>对象：<code>&lt;template is=&quot;objectCombine&quot; data=&quot;&#123; &#123;for: object.key, bar: array[0]&#125; &#125;&quot;&gt;&lt;/template&gt;</code></p>
<pre><code>或`...`将 对象展开 `&lt;template is=&quot;objectCombine&quot; data=&quot;&#123;&#123;...obj1, ...obj2, e: 5&#125;&#125;&quot;&gt;&lt;/template&gt;`
</code></pre>
</li>
</ul>
</li>
</ul>
<blockquote>
<pre class=" language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  data<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    message<span class="token punctuation">:</span> <span class="token string">"Hello MINA!"</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">"MINA"</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    condition<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    object<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      key<span class="token punctuation">:</span> <span class="token string">"Hello "</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"MINA"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    obj1<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    obj2<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      d<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
<li><p>列表渲染</p>
<ul>
<li><p><code>wx:for</code> / <code>block wx:for</code></p>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;array&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>index<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>: <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>item.message<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span>
<span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--默认数组的当前项的下标变量名默认为 index，数组当前项的变量名默认为 item--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;array&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>idx<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>itemName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>idx<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>: <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>itemName.message<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span>
<span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--wx:for-item 可以指定数组当前元素的变量名，wx:for-index 可以指定数组当前下标的变量名：--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>i<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>j<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;i &lt;<span class="token punctuation">=</span> j&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>i<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> * <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>j<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> = <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>i * j<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span>
<span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--wx:for 也可以嵌套，下边是一个九九乘法表--></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;[1, 2, 3]&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>index<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>item<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span>
<span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--将 wx:for 用在&lt;block/>标签上，以渲染一个包含多节点的结构块--></span>
</code></pre>
</blockquote>
</li>
<li><p><code>wx:key</code></p>
<p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态（如 <code>&lt;input/&gt;</code> 中的输入内容，<code>&lt;switch/&gt;</code> 的选中状态），需要使用 <code>wx:key</code> 来指定列表中项目的唯一的标识符。 <strong>如不提供 wx:key，会报一个 warning， 如果明确知道该列表是静态，或者不必关注其顺序，可以选择忽略</strong></p>
<p><code>wx:key</code> 的值以两种形式提供</p>
<ol>
<li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。</li>
<li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字</li>
</ol>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>switch</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;objectArray&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>unique<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>item.id<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>switch</span><span class="token punctuation">></span></span>
</code></pre>
</blockquote>
<p>见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/list.html">详情</a></p>
</li>
</ul>
</li>
<li><p>条件渲染</p>
<ul>
<li><p><code>wx:if</code> / <code>block wx:if</code></p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;length <span class="token punctuation">></span> 5&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;length <span class="token punctuation">></span> 2&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token punctuation">></span></span> 3 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;true&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> view1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> view2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>
</code></pre>
</li>
</ul>
</li>
<li><p>模板</p>
<ul>
<li><p>定义模板</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msgItem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>index<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span>: <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>msg<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span> Time: <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>time<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> odd <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>even<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> even <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
</li>
<li><p>使用模板</p>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>msgItem<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;...item&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;[1, 2, 3, 4, 5]&amp;#125;&amp;#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;item % 2 <span class="token punctuation">=</span><span class="token punctuation">=</span> 0 ? <span class="token punctuation">'</span>even<span class="token punctuation">'</span> : <span class="token punctuation">'</span>odd<span class="token punctuation">'</span>&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    data<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      item<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        index<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        msg<span class="token punctuation">:</span> <span class="token string">"this is a template"</span><span class="token punctuation">,</span>
        time<span class="token punctuation">:</span> <span class="token string">"2016-09-15"</span><span class="token punctuation">,</span>
      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre>
</li>
</ul>
</li>
<li><p>事件</p>
<ul>
<li><p>使用示例</p>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tapTest<span class="token punctuation">"</span></span> <span class="token attr-name">data-hi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>WeChat<span class="token punctuation">"</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tapName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> Click me! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  tapName<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
<li><p>事件类型</p>
<ul>
<li><p>常见冒泡事件：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>触发条件</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>touchstart</td>
<td>手指触摸动作开始</td>
<td></td>
</tr>
<tr>
<td>touchmove</td>
<td>手指触摸后移动</td>
<td></td>
</tr>
<tr>
<td>touchcancel</td>
<td>手指触摸动作被打断，如来电提醒，弹窗</td>
<td></td>
</tr>
<tr>
<td>touchend</td>
<td>手指触摸动作结束</td>
<td></td>
</tr>
<tr>
<td>tap</td>
<td>手指触摸后马上离开</td>
<td></td>
</tr>
<tr>
<td>longpress</td>
<td>手指触摸后，超过 350ms 再离开，如果指定了事件回调函数并触发了这个事件，tap 事件将不被触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>longtap</td>
<td>手指触摸后，超过 350ms 再离开（推荐使用 longpress 事件代替）</td>
<td></td>
</tr>
<tr>
<td>transitionend</td>
<td>会在 WXSS transition 或 wx.createAnimation 动画结束后触发</td>
<td></td>
</tr>
<tr>
<td>animationstart</td>
<td>会在一个 WXSS animation 动画开始时触发</td>
<td></td>
</tr>
<tr>
<td>animationiteration</td>
<td>会在一个 WXSS animation 一次迭代结束时触发</td>
<td></td>
</tr>
<tr>
<td>animationend</td>
<td>会在一个 WXSS animation 动画完成时触发</td>
<td></td>
</tr>
<tr>
<td>touchforcechange</td>
<td>在支持 3D Touch 的 iPhone 设备，重按时会触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
</tbody></table>
</li>
<li><p>除上表之外的其他组件自定义事件如无特殊声明都是非冒泡事件，<em>如<code>&lt;form/&gt;</code>的 submit 事件，<code>&lt;input/&gt;</code>的 input 事件，<code>&lt;scroll-view/&gt;</code>的 scroll 事件</em></p>
</li>
</ul>
</li>
<li><p>事件绑定和冒泡 &amp; 捕获</p>
<ul>
<li>key ：冒泡事件和捕获事件不同。<em>在非<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html">原生组件</a>中，<code>bind</code>和<code>catch</code>后可以紧跟一个冒号，其含义不变，如<code>bind:tap</code>、<code>catch:touchstart</code></em><ul>
<li><strong>冒泡</strong> ：以<code>bind</code>或<code>catch</code>开头，然后跟上事件的类型，如<code>bindtap</code>、<code>catchtouchstart</code></li>
<li><strong>捕获</strong> ：采用<code>capture-bind:type</code>、<code>capture-catch:type</code>关键字。（<code>capture-catch</code>会中断捕获阶段和取消冒泡阶段）</li>
</ul>
</li>
<li>value： 是一个字符串，需要在对应的 Page 中定义同名的函数。不然当触发事件的时候会报错。</li>
</ul>
</li>
<li><p>事件对象</p>
<ul>
<li><p>BaseEvent 基础事件对象属性列表</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#type">type</a></td>
<td>String</td>
<td>事件类型</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#timestamp">timeStamp</a></td>
<td>Integer</td>
<td>事件生成时的时间戳</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#target">target</a></td>
<td>Object</td>
<td>触发事件的源组件，object 是其一些属性值集合</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#currenttarget">currentTarget</a></td>
<td>Object</td>
<td>当前组件，object 是其一些属性值集合<em>特殊： <code>&lt;canvas/&gt;</code> 中的触摸事件不可冒泡，所以没有 currentTarget。</em></td>
</tr>
</tbody></table>
</li>
<li><p>CustomEvent 自定义事件对象属性列表（继承 BaseEvent）</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#detail">detail</a></td>
<td>Object</td>
<td>自定义事件所携带的数据，如表单组件的提交事件会携带用户的输入，媒体的错误事件会携带错误信息</td>
</tr>
</tbody></table>
</li>
<li><p>TouchEvent 触摸事件对象属性列表（继承 BaseEvent）</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#touches">touches</a></td>
<td>Array</td>
<td>触摸事件，当前停留在屏幕中的触摸点信息的数组</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#changedtouches">changedTouches</a></td>
<td>Array</td>
<td>触摸事件，当前变化的触摸点信息的数组。表示有变化的触摸点，如从无变有（touchstart），位置变化（touchmove），从有变无（touchend、touchcancel）</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
</li>
<li><p>引用</p>
<ul>
<li><p>import</p>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- item.wxml --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span><span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>text<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item.wxml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&amp;#123;&amp;#123;text: <span class="token punctuation">'</span>forbar<span class="token punctuation">'</span>&amp;#125;&amp;#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p>import 有作用域的概念，只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template。</p>
</blockquote>
</li>
<li><p>include</p>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- index.wxml --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>header.wxml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> body <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer.wxml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- header.wxml --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> header <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
</code></pre>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- header.wxml --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> header <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
</code></pre>
<p><code>include</code> 可将目标文件除了 <code>&lt;template/&gt;</code> <code>&lt;wxs/&gt;</code> 外的整个代码引入，相当于是拷贝到 <code>include</code> 位置</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h2 id="2-2-WXS"><a href="#2-2-WXS" class="headerlink" title="2.2 WXS"></a>2.2 WXS</h2><ol>
<li>wxs 与 javascript 是不同的语言，有自己的语法，并不和 javascript 一致。</li>
<li>wxs 的运行环境和其他 javascript 代码是隔离的，wxs 中不能调用其他 javascript 文件中定义的函数，也不能调用小程序提供的 API</li>
<li>wxs 函数不能作为组件的事件回调</li>
</ol>
<ul>
<li><p>模块 ：</p>
<blockquote>
<p>示例：WXS 代码可以编写在 wxml 文件中的 <code>&lt;wxs&gt;</code> 标签内，或以 <code>.wxs</code> 为后缀名的文件内</p>
<p>每一个 <code>.wxs</code> 文件和 <code>&lt;wxs&gt;</code> 标签都是一个单独的模块。每个模块都有自己独立的作用域。即在一个模块里面定义的变量与函数，默认为私有的，对其他模块不可见。</p>
<pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--wxml--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!--&lt;wxs>标签 :module属性唯一且必填，--></span>
  var msg = "hello world"; module.exports.message = msg;
  //一个模块要想对外暴露其内部的私有变量与函数，只能通过 module.exports
  实现。
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>m1.message<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./../tools.wxs<span class="token punctuation">"</span></span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tools<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token comment" spellcheck="true">&lt;!--src属性 只能引用 .wxs 文件模块，且必须使用相对路径--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>tools.msg<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">></span></span> <span class="token entity" title="&#123;">&amp;#123;</span><span class="token entity" title="&#123;">&amp;#123;</span>tools.bar(tools.FOO)<span class="token entity" title="&#125;">&amp;#125;</span><span class="token entity" title="&#125;">&amp;#125;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./../logic.wxs<span class="token punctuation">"</span></span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logic<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// /pages/tools.wxs</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">"'hello world' from tools.wxs"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> d<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  FOO<span class="token punctuation">:</span> foo<span class="token punctuation">,</span>
  bar<span class="token punctuation">:</span> bar<span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">"some msg"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//每个 wxs 模块均有一个内置的 module 对象。</span>
</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//logic.wxs</span>
<span class="token keyword">var</span> tools <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./tools.wxs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tools<span class="token punctuation">.</span>FOO<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tools<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token string">"logic.wxs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tools<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
<li><p>变量 ：</p>
<p>var 表现与 javascript 一致，会有变量提升，没有声明的变量直接赋值使用，会被定义为全局变量。</p>
<p>保留标识符 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/02variate.html">见官方文档</a></p>
</li>
<li><p>注释 ：同 js <code>//</code> <code>/* */</code></p>
</li>
<li><p>运算符 ：</p>
<p>运算符优先级 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/04operator.html">见官方文档</a></p>
<ul>
<li>基本 加减乘除取余，</li>
<li>一元运算符<ul>
<li>a++ ,++a</li>
<li>a–, –a</li>
<li>~a （否运算</li>
<li>!a（取反</li>
<li>delete a.attr1 （delete 运算</li>
<li>void a （void 运算</li>
<li>typeof a （typeof 运算</li>
</ul>
</li>
<li>位运算符 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/04operator.html">见官方文档</a></li>
<li>比较运算符</li>
<li>等值运算符</li>
<li>赋值</li>
<li>二元逻辑运算符 &amp;&amp; ||</li>
<li>条件三元运算符 (a &gt;= 10 ? a + 10 : b + 10)</li>
<li>逗号运算符 顺序执行两个表达式 (a, b)</li>
</ul>
</li>
<li><p>语句 ：</p>
<ul>
<li><code>if()&#123;&#125;else if()&#123;&#125; eles&#123;&#125;</code></li>
<li><code>switch()&#123;case x1:break;case x2:break;default:&#125;</code></li>
<li><code>for(;;)&#123;&#125;</code></li>
<li><code>while()&#123;&#125;</code> / <code>do&#123;&#125;while()</code></li>
</ul>
</li>
<li><p>数据类型 ：</p>
<ul>
<li><code>number</code> ： 数值</li>
<li><code>string</code> ：字符串</li>
<li><code>boolean</code>：布尔值</li>
<li><code>object</code>：对象</li>
<li><code>function</code>：函数</li>
<li><code>array</code> : 数组</li>
<li><code>date</code>：日期</li>
<li><code>regexp</code>：正则</li>
</ul>
</li>
<li><p>基础类库 ：</p>
<ul>
<li><code>console</code></li>
<li><code>Math</code></li>
<li><code>Json</code></li>
<li><code>Number</code></li>
<li><code>Date</code></li>
<li><code>Global</code></li>
</ul>
</li>
</ul>
<h2 id="2-3-WXSS"><a href="#2-3-WXSS" class="headerlink" title="2.3 WXSS"></a>2.3 WXSS</h2><ul>
<li>尺寸单位 rpx</li>
<li>样式导入 <code>@import &quot;xx.wxss&quot;</code></li>
<li>内联样式 <code>&lt;view style=&quot;color:&#123;&#123;color&#125;&#125;;&quot; /&gt;</code> / <code>&lt;view class=&quot;xxclass&quot; /&gt;</code></li>
</ul>
<h2 id="2-4-基础组件"><a href="#2-4-基础组件" class="headerlink" title="2.4 基础组件"></a>2.4 基础组件</h2><blockquote>
<p>通用属性：</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>描述</th>
<th>注解</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>String</td>
<td>组件的唯一标示</td>
<td>保持整个页面唯一</td>
</tr>
<tr>
<td>class</td>
<td>String</td>
<td>组件的样式类</td>
<td>在对应的 WXSS 中定义的样式类</td>
</tr>
<tr>
<td>style</td>
<td>String</td>
<td>组件的内联样式</td>
<td>可以动态设置的内联样式</td>
</tr>
<tr>
<td>hidden</td>
<td>Boolean</td>
<td>组件是否显示</td>
<td>所有组件默认显示</td>
</tr>
<tr>
<td>data-*</td>
<td>Any</td>
<td>自定义属性</td>
<td>组件上触发的事件时，会发送给事件处理函数</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bind* / catch*</td>
<td>EventHandler</td>
<td>组件的事件</td>
<td>详见<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">事件</a></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><p>视图容器</p>
<ul>
<li><strong>view</strong> 视图容器</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>hover-class</td>
<td>String</td>
<td>none</td>
<td>指定按下去的样式类。当 <code>hover-class=&quot;none&quot;</code> 时，没有点击态效果</td>
<td></td>
</tr>
<tr>
<td>hover-stop-propagation</td>
<td>Boolean</td>
<td>false</td>
<td>指定是否阻止本节点的祖先节点出现点击态</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>hover-start-time</td>
<td>Number</td>
<td>50</td>
<td>按住后多久出现点击态，单位毫秒</td>
<td></td>
</tr>
<tr>
<td>hover-stay-time</td>
<td>Number</td>
<td>400</td>
<td>手指松开后点击态保留时间，单位毫秒</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>scroll-view</strong> 可滚动视图区域</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>scroll-x</td>
<td>Boolean</td>
<td>false</td>
<td>允许横向滚动</td>
</tr>
<tr>
<td>scroll-y</td>
<td>Boolean</td>
<td>false</td>
<td>允许纵向滚动</td>
</tr>
<tr>
<td>upper-threshold</td>
<td>Number</td>
<td>50</td>
<td>距顶部/左边多远时（单位 px），触发 scrolltoupper 事件</td>
</tr>
<tr>
<td>lower-threshold</td>
<td>Number</td>
<td>50</td>
<td>距底部/右边多远时（单位 px），触发 scrolltolower 事件</td>
</tr>
<tr>
<td>scroll-top</td>
<td>Number</td>
<td></td>
<td>设置竖向滚动条位置</td>
</tr>
<tr>
<td>scroll-left</td>
<td>Number</td>
<td></td>
<td>设置横向滚动条位置</td>
</tr>
<tr>
<td>scroll-into-view</td>
<td>String</td>
<td></td>
<td>值应为某子元素 id（id 不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素</td>
</tr>
<tr>
<td>scroll-with-animation</td>
<td>Boolean</td>
<td>false</td>
<td>在设置滚动条位置时使用动画过渡</td>
</tr>
<tr>
<td>enable-back-to-top</td>
<td>Boolean</td>
<td>false</td>
<td>iOS 点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bindscrolltoupper</td>
<td>EventHandle</td>
<td></td>
<td>滚动到顶部/左边，会触发 scrolltoupper 事件</td>
</tr>
<tr>
<td>bindscrolltolower</td>
<td>EventHandle</td>
<td></td>
<td>滚动到底部/右边，会触发 scrolltolower 事件</td>
</tr>
<tr>
<td>bindscroll</td>
<td>EventHandle</td>
<td></td>
<td>滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY}</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>swiper</strong> 滑块视图容</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>indicator-dots</td>
<td>Boolean</td>
<td>false</td>
<td>是否显示面板指示点</td>
<td></td>
</tr>
<tr>
<td>indicator-color</td>
<td>Color</td>
<td>rgba(0, 0, 0, .3)</td>
<td>指示点颜色</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>indicator-active-color</td>
<td>Color</td>
<td>#000000</td>
<td>当前选中的指示点颜色</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>autoplay</td>
<td>Boolean</td>
<td>false</td>
<td>是否自动切换</td>
<td></td>
</tr>
<tr>
<td>current</td>
<td>Number</td>
<td>0</td>
<td>当前所在滑块的 index</td>
<td></td>
</tr>
<tr>
<td>current-item-id</td>
<td>String</td>
<td>“”</td>
<td>当前所在滑块的 item-id ，不能与 current 被同时指定</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>interval</td>
<td>Number</td>
<td>5000</td>
<td>自动切换时间间隔</td>
<td></td>
</tr>
<tr>
<td>duration</td>
<td>Number</td>
<td>500</td>
<td>滑动动画时长</td>
<td></td>
</tr>
<tr>
<td>circular</td>
<td>Boolean</td>
<td>false</td>
<td>是否采用衔接滑动</td>
<td></td>
</tr>
<tr>
<td>vertical</td>
<td>Boolean</td>
<td>false</td>
<td>滑动方向是否为纵向</td>
<td></td>
</tr>
<tr>
<td>previous-margin</td>
<td>String</td>
<td>“0px”</td>
<td>前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>next-margin</td>
<td>String</td>
<td>“0px”</td>
<td>后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>display-multiple-items</td>
<td>Number</td>
<td>1</td>
<td>同时显示的滑块数量</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>skip-hidden-item-layout</td>
<td>Boolean</td>
<td>false</td>
<td>是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>current 改变时会触发 change 事件，event.detail = {current: current, source: source}</td>
<td></td>
</tr>
<tr>
<td>bindanimationfinish</td>
<td>EventHandle</td>
<td></td>
<td>动画结束时会触发 animationfinish 事件，event.detail 同上</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>movable-area&gt;movable-view</strong> 可移动的视图容器，在页面中可以拖拽滑动</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>movable-view 的属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>direction</td>
<td>String</td>
<td>none</td>
<td>movable-view 的移动方向，属性值有 all、vertical、horizontal、none</td>
<td></td>
</tr>
<tr>
<td>inertia</td>
<td>Boolean</td>
<td>false</td>
<td>movable-view 是否带有惯性</td>
<td></td>
</tr>
<tr>
<td>out-of-bounds</td>
<td>Boolean</td>
<td>false</td>
<td>超过可移动区域后，movable-view 是否还可以移动</td>
<td></td>
</tr>
<tr>
<td>x</td>
<td>Number / String</td>
<td></td>
<td>定义 x 轴方向的偏移，如果 x 的值不在可移动范围内，会自动移动到可移动范围；改变 x 的值会触发动画</td>
<td></td>
</tr>
<tr>
<td>y</td>
<td>Number / String</td>
<td></td>
<td>定义 y 轴方向的偏移，如果 y 的值不在可移动范围内，会自动移动到可移动范围；改变 y 的值会触发动画</td>
<td></td>
</tr>
<tr>
<td>damping</td>
<td>Number</td>
<td>20</td>
<td>阻尼系数，用于控制 x 或 y 改变时的动画和过界回弹的动画，值越大移动越快</td>
<td></td>
</tr>
<tr>
<td>friction</td>
<td>Number</td>
<td>2</td>
<td>摩擦系数，用于控制惯性滑动的动画，值越大摩擦力越大，滑动越快停止；必须大于 0，否则会被设置成默认值</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>scale</td>
<td>Boolean</td>
<td>false</td>
<td>是否支持双指缩放，默认缩放手势生效区域是在 movable-view 内,在<code>movable-view</code>中添加<code>scale-area</code>属性可将手势生效区域修改为整个<code>movable-view</code></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>scale-min</td>
<td>Number</td>
<td>0.5</td>
<td>定义缩放倍数最小值</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>scale-max</td>
<td>Number</td>
<td>10</td>
<td>定义缩放倍数最大值</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>scale-value</td>
<td>Number</td>
<td>1</td>
<td>定义缩放倍数，取值范围为 0.5 - 10</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>animation</td>
<td>Boolean</td>
<td>true</td>
<td>是否使用动画</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>拖动过程中触发的事件，event.detail = {x: x, y: y, source: source}，其中 source 表示产生移动的原因，值可为 touch（拖动）、touch-out-of-bounds（超出移动范围）、out-of-bounds（超出移动范围后的回弹）、friction（惯性）和空字符串（setData）</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>bindscale</td>
<td>EventHandle</td>
<td></td>
<td>缩放过程中触发的事件，event.detail = {x: x, y: y, scale: scale}，其中 x 和 y 字段在<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a>之后开始支持返回</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>htouchmove</td>
<td>EventHandle</td>
<td></td>
<td>初次手指触摸后移动为横向的移动，如果 catch 此事件，则意味着 touchmove 事件也被 catch</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>vtouchmove</td>
<td>EventHandle</td>
<td></td>
<td>初次手指触摸后移动为纵向的移动，如果 catch 此事件，则意味着 touchmove 事件也被 catch</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>cover-view&gt;cover-view + cover-image</strong> 覆盖在原生组件之上的文本视图 <em>只支持嵌套<code>cover-view</code>、<code>cover-image</code>，可在<code>cover-view</code>中使用<code>button</code></em></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>cover-image 的属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>String</td>
<td></td>
<td>图标路径，支持临时路径、网络地址（1.6.0 起支持）、云文件 ID（2.2.3 起支持）。暂不支持 base64 格式。</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bindload</td>
<td>EventHandle</td>
<td></td>
<td>图片加载成功时触发 事件</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
<tr>
<td>binderror</td>
<td>EventHandle</td>
<td></td>
<td>图片加载失败时触发 事件</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>cover-view 属性名:</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>scroll-top</td>
<td>Number</td>
<td></td>
<td>设置顶部滚动偏移量，仅在设置了 overflow-y: scroll 成为滚动元素后生效</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.1.0</a></td>
</tr>
</tbody></table>
</blockquote>
</li>
<li><p>基础内容</p>
<ul>
<li><strong>icon</strong> 图标</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>String</td>
<td></td>
<td>icon 的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>23</td>
<td>icon 的大小，单位 px</td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>icon 的颜色，同 css 的 color</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>text</strong> 文本</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>selectable</td>
<td>Boolean</td>
<td>false</td>
<td>文本是否可选</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>space</td>
<td>String</td>
<td>false</td>
<td>显示连续空格 有效值：<a href="%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E7%A9%BA%E6%A0%BC%E4%B8%80%E5%8D%8A%E5%A4%A7%E5%B0%8F">ensp</a>，<a href="%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E7%A9%BA%E6%A0%BC%E5%A4%A7%E5%B0%8F">emsp</a>，<a href="%E6%A0%B9%E6%8D%AE%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE%E7%9A%84%E7%A9%BA%E6%A0%BC%E5%A4%A7%E5%B0%8F">nbsp</a></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
<tr>
<td>decode</td>
<td>Boolean</td>
<td>false</td>
<td>是否解码</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>rich-text</strong> 富文本 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html">https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html</a></li>
<li><strong>progress</strong> 进度条</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>percent</td>
<td>Float</td>
<td>无</td>
<td>百分比 0~100</td>
<td></td>
</tr>
<tr>
<td>show-info</td>
<td>Boolean</td>
<td>false</td>
<td>在进度条右侧显示百分比</td>
<td></td>
</tr>
<tr>
<td>stroke-width</td>
<td>Number</td>
<td>6</td>
<td>进度条线的宽度，单位 px</td>
<td></td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td>#09BB07</td>
<td>进度条颜色 （请使用 activeColor）</td>
<td></td>
</tr>
<tr>
<td>activeColor</td>
<td>Color</td>
<td></td>
<td>已选择的进度条的颜色</td>
<td></td>
</tr>
<tr>
<td>backgroundColor</td>
<td>Color</td>
<td></td>
<td>未选择的进度条的颜色</td>
<td></td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>false</td>
<td>进度条从左往右的动画</td>
<td></td>
</tr>
<tr>
<td>active-mode</td>
<td>String</td>
<td>backwards</td>
<td>backwards: 动画从头播；forwards：动画从上次结束点接着播</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.7.0</a></td>
</tr>
</tbody></table>
</blockquote>
</li>
<li><p>表单 Form</p>
<ul>
<li><strong>button</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>生效时机</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>size</td>
<td>String</td>
<td>default</td>
<td>按钮的大小</td>
<td></td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>default</td>
<td>按钮的样式类型</td>
<td></td>
<td></td>
</tr>
<tr>
<td>plain</td>
<td>Boolean</td>
<td>false</td>
<td>按钮是否镂空，背景色透明</td>
<td></td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
<td></td>
</tr>
<tr>
<td>loading</td>
<td>Boolean</td>
<td>false</td>
<td>名称前是否带 loading 图标</td>
<td></td>
<td></td>
</tr>
<tr>
<td>form-type</td>
<td>String</td>
<td></td>
<td>用于 <code>&lt;form/&gt;</code> 组件，点击分别会触发 <code>&lt;form/&gt;</code> 组件的 submit/reset 事件</td>
<td></td>
<td></td>
</tr>
<tr>
<td>open-type</td>
<td>String</td>
<td></td>
<td>微信开放能力</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>hover-class</td>
<td>String</td>
<td>button-hover</td>
<td>指定按钮按下去的样式类。当 <code>hover-class=&quot;none&quot;</code> 时，没有点击态效果</td>
<td></td>
<td></td>
</tr>
<tr>
<td>hover-stop-propagation</td>
<td>Boolean</td>
<td>false</td>
<td>指定是否阻止本节点的祖先节点出现点击态</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>hover-start-time</td>
<td>Number</td>
<td>20</td>
<td>按住后多久出现点击态，单位毫秒</td>
<td></td>
<td></td>
</tr>
<tr>
<td>hover-stay-time</td>
<td>Number</td>
<td>70</td>
<td>手指松开后点击态保留时间，单位毫秒</td>
<td></td>
<td></td>
</tr>
<tr>
<td>lang</td>
<td>String</td>
<td>en</td>
<td>指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。</td>
<td>open-type=”getUserInfo”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.3.0</a></td>
</tr>
<tr>
<td>bindgetuserinfo</td>
<td>Handler</td>
<td></td>
<td>用户点击该按钮时，会返回获取到的用户信息，回调的 detail 数据与<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/open.html#wxgetuserinfoobject">wx.getUserInfo</a>返回的一致</td>
<td>open-type=”getUserInfo”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.3.0</a></td>
</tr>
<tr>
<td>session-from</td>
<td>String</td>
<td></td>
<td>会话来源</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.4.0</a></td>
</tr>
<tr>
<td>send-message-title</td>
<td>String</td>
<td>当前标题</td>
<td>会话内消息卡片标题</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>send-message-path</td>
<td>String</td>
<td>当前分享路径</td>
<td>会话内消息卡片点击跳转小程序路径</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>send-message-img</td>
<td>String</td>
<td>截图</td>
<td>会话内消息卡片图片</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>show-message-card</td>
<td>Boolean</td>
<td>false</td>
<td>显示会话内消息卡片</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>bindcontact</td>
<td>Handler</td>
<td></td>
<td>客服消息回调</td>
<td>open-type=”contact”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>bindgetphonenumber</td>
<td>Handler</td>
<td></td>
<td>获取用户手机号回调</td>
<td>open-type=”getPhoneNumber”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.2.0</a></td>
</tr>
<tr>
<td>app-parameter</td>
<td>String</td>
<td></td>
<td>打开 APP 时，向 APP 传递的参数</td>
<td>open-type=”launchApp”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.5</a></td>
</tr>
<tr>
<td>binderror</td>
<td>Handler</td>
<td></td>
<td>当使用开放能力时，发生错误的回调</td>
<td>open-type=”launchApp”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.5</a></td>
</tr>
<tr>
<td>bindopensetting</td>
<td>Handler</td>
<td></td>
<td>在打开授权设置页后回调</td>
<td>open-type=”openSetting”</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>form</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>report-submit</td>
<td>Boolean</td>
<td>是否返回 formId 用于发送<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/notice.html">模板消息</a></td>
<td></td>
</tr>
<tr>
<td>bindsubmit</td>
<td>EventHandle</td>
<td>携带 form 中的数据触发 submit 事件，event.detail = {value : {‘name’: ‘value’} , formId: ‘’}</td>
<td></td>
</tr>
<tr>
<td>bindreset</td>
<td>EventHandle</td>
<td>表单重置时会触发 reset 事件</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>label</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>for</td>
<td>String</td>
<td>绑定控件的 id <em>目前可以绑定的控件有：<code>&lt;button/&gt;</code>, <code>&lt;checkbox/&gt;</code>, <code>&lt;radio/&gt;</code>, <code>&lt;switch/&gt;</code></em></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>input</strong> <em>(原生组件)</em></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td>输入框的初始内容</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>“text”</td>
<td>input 的类型</td>
<td></td>
</tr>
<tr>
<td>password</td>
<td>Boolean</td>
<td>false</td>
<td>是否是密码类型</td>
<td></td>
</tr>
<tr>
<td>placeholder</td>
<td>String</td>
<td></td>
<td>输入框为空时占位符</td>
<td></td>
</tr>
<tr>
<td>placeholder-style</td>
<td>String</td>
<td></td>
<td>指定 placeholder 的样式</td>
<td></td>
</tr>
<tr>
<td>placeholder-class</td>
<td>String</td>
<td>“input-placeholder”</td>
<td>指定 placeholder 的样式类</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
<tr>
<td>maxlength</td>
<td>Number</td>
<td>140</td>
<td>最大输入长度，设置为 -1 的时候不限制最大长度</td>
<td></td>
</tr>
<tr>
<td>cursor-spacing</td>
<td>Number</td>
<td>0</td>
<td>指定光标与键盘的距离，单位 px 。取 input 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离</td>
<td></td>
</tr>
<tr>
<td>auto-focus</td>
<td>Boolean</td>
<td>false</td>
<td>(即将废弃，请直接使用 focus )自动聚焦，拉起键盘</td>
<td></td>
</tr>
<tr>
<td>focus</td>
<td>Boolean</td>
<td>false</td>
<td>获取焦点</td>
<td></td>
</tr>
<tr>
<td>confirm-type</td>
<td>String</td>
<td>“done”</td>
<td>设置键盘右下角按钮的文字，仅在 type=’text’时生效</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>confirm-hold</td>
<td>Boolean</td>
<td>false</td>
<td>点击键盘右下角按钮时是否保持键盘不收起</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>cursor</td>
<td>Number</td>
<td></td>
<td>指定 focus 时的光标位置</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>selection-start</td>
<td>Number</td>
<td>-1</td>
<td>光标起始位置，自动聚集时有效，需与 selection-end 搭配使用</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>selection-end</td>
<td>Number</td>
<td>-1</td>
<td>光标结束位置，自动聚集时有效，需与 selection-start 搭配使用</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>adjust-position</td>
<td>Boolean</td>
<td>true</td>
<td>键盘弹起时，是否自动上推页面</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>bindinput</td>
<td>EventHandle</td>
<td></td>
<td>键盘输入时触发，event.detail = {value, cursor, keyCode}，keyCode 为键值，2.1.0 起支持，处理函数可以直接 return 一个字符串，将替换输入框的内容。</td>
<td></td>
</tr>
<tr>
<td>bindfocus</td>
<td>EventHandle</td>
<td></td>
<td>输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持</td>
<td></td>
</tr>
<tr>
<td>bindblur</td>
<td>EventHandle</td>
<td></td>
<td>输入框失去焦点时触发，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>bindconfirm</td>
<td>EventHandle</td>
<td></td>
<td>点击完成按钮时触发，event.detail = {value: value}</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>checkbox-group</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td><code>&lt;checkbox-group/&gt;</code>中选中项发生改变是触发 change 事件，detail = {value:[选中的 checkbox 的 value 的数组]}</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>checkbox</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td><code>&lt;checkbox/&gt;</code>标识，选中时触发<code>&lt;checkbox-group/&gt;</code>的 change 事件，并携带 <code>&lt;checkbox/&gt;</code> 的 value</td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr>
<tr>
<td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>当前是否选中，可用来设置默认选中</td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>checkbox 的颜色，同 css 的 color</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>radio-group&gt;radio</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>radio-group 属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td><code>&lt;radio-group/&gt;</code> 中的选中项发生变化时触发 change 事件，event.detail = {value: 选中项 radio 的 value}</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td><code>&lt;radio/&gt;</code> 标识。当该<code>&lt;radio/&gt;</code> 选中时，<code>&lt;radio-group/&gt;</code> 的 change 事件会携带<code>&lt;radio/&gt;</code>的 value</td>
</tr>
<tr>
<td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>当前是否选中</td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>radio 的颜色，同 css 的 color</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>picker</strong> 从底部弹起的滚动选择器 现支持 5 种选择器<code>mode=&quot;&quot;</code>：普通选择器(默认<code>selector</code>)，多列选择器(<code>multiSelector</code>)，时间选择器(<code>time</code>)，日期选择器(<code>date</code>)，省市区选择器(<code>region</code>)</li>
</ul>
<blockquote>
<p>普通：</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>range</td>
<td>Array / Object Array</td>
<td>[]</td>
<td>mode 为 selector 或 multiSelector 时，range 有效</td>
<td></td>
</tr>
<tr>
<td>range-key</td>
<td>String</td>
<td></td>
<td>当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>Number</td>
<td>0</td>
<td>value 的值表示选择了 range 中的第几个（下标从 0 开始）</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
<tr>
<td>bindcancel</td>
<td>EventHandle</td>
<td></td>
<td>取消选择或点遮罩层收起 picker 时触发</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>多列</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>range</td>
<td>二维 Array / 二维 Object Array</td>
<td>[]</td>
<td>mode 为 selector 或 multiSelector 时，range 有效。二维数组，长度表示多少列，数组的每项表示每列的数据，如<code>[[&quot;a&quot;,&quot;b&quot;], [&quot;c&quot;,&quot;d&quot;]]</code></td>
<td></td>
</tr>
<tr>
<td>range-key</td>
<td>String</td>
<td></td>
<td>当 range 是一个 二维 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>Array</td>
<td>[]</td>
<td>value 每一项的值表示选择了 range 对应项中的第几个（下标从 0 开始）</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>bindcolumnchange</td>
<td>EventHandle</td>
<td></td>
<td>某一列的值改变时触发 columnchange 事件，event.detail = {column: column, value: value}，column 的值表示改变了第几列（下标从 0 开始），value 的值表示变更值的下标</td>
<td></td>
</tr>
<tr>
<td>bindcancel</td>
<td>EventHandle</td>
<td></td>
<td>取消选择时触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>时间</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td>表示选中的时间，格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td></td>
<td>表示有效时间范围的开始，字符串格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td></td>
<td>表示有效时间范围的结束，字符串格式为”hh:mm”</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>bindcancel</td>
<td>EventHandle</td>
<td></td>
<td>取消选择时触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>日期</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td>0</td>
<td>表示选中的日期，格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td></td>
<td>表示有效日期范围的开始，字符串格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td></td>
<td>表示有效日期范围的结束，字符串格式为”YYYY-MM-DD”</td>
<td></td>
</tr>
<tr>
<td>fields</td>
<td>String</td>
<td>day</td>
<td>有效值 year,month,day，表示选择器的粒度</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>bindcancel</td>
<td>EventHandle</td>
<td></td>
<td>取消选择时触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<blockquote>
<p>省市</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>Array</td>
<td>[]</td>
<td>表示选中的省市区，默认选中每一列的第一个值</td>
<td></td>
</tr>
<tr>
<td>custom-item</td>
<td>String</td>
<td></td>
<td>可为每一列的顶部添加一个自定义的项</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>value 改变时触发 change 事件，event.detail = {value: value, code: code, postcode: postcode}，其中字段 code 是统计用区划代码，postcode 是邮政编码</td>
<td></td>
</tr>
<tr>
<td>bindcancel</td>
<td>EventHandle</td>
<td></td>
<td>取消选择时触发</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>picker-view&gt;picker-view-column</strong> 嵌入页面的滚动选择器 只可放置<code>&lt;picker-view-column/&gt;</code>组件</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>NumberArray</td>
<td>数组中的数字依次表示 picker-view 内的 picker-view-column 选择的第几项（下标从 0 开始），数字大于 picker-view-column 可选项长度时，选择最后一项。</td>
<td></td>
</tr>
<tr>
<td>indicator-style</td>
<td>String</td>
<td>设置选择器中间选中框的样式</td>
<td></td>
</tr>
<tr>
<td>indicator-class</td>
<td>String</td>
<td>设置选择器中间选中框的类名</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.1.0</a></td>
</tr>
<tr>
<td>mask-style</td>
<td>String</td>
<td>设置蒙层的样式</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>mask-class</td>
<td>String</td>
<td>设置蒙层的类名</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td>当滚动选择，value 改变时触发 change 事件，event.detail = {value: value}；value 为数组，表示 picker-view 内的 picker-view-column 当前选择的是第几项（下标从 0 开始）</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>slider</strong> 滑动选择器</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>min</td>
<td>Number</td>
<td>0</td>
<td>最小值</td>
<td></td>
</tr>
<tr>
<td>max</td>
<td>Number</td>
<td>100</td>
<td>最大值</td>
<td></td>
</tr>
<tr>
<td>step</td>
<td>Number</td>
<td>1</td>
<td>步长，取值必须大于 0，并且可被(max - min)整除</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>Number</td>
<td>0</td>
<td>当前取值</td>
<td></td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td>#e9e9e9</td>
<td>背景条的颜色（请使用 backgroundColor）</td>
<td></td>
</tr>
<tr>
<td>selected-color</td>
<td>Color</td>
<td>#1aad19</td>
<td>已选择的颜色（请使用 activeColor）</td>
<td></td>
</tr>
<tr>
<td>activeColor</td>
<td>Color</td>
<td>#1aad19</td>
<td>已选择的颜色</td>
<td></td>
</tr>
<tr>
<td>backgroundColor</td>
<td>Color</td>
<td>#e9e9e9</td>
<td>背景条的颜色</td>
<td></td>
</tr>
<tr>
<td>block-size</td>
<td>Number</td>
<td>28</td>
<td>滑块的大小，取值范围为 12 - 28</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>block-color</td>
<td>Color</td>
<td>#ffffff</td>
<td>滑块的颜色</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>show-value</td>
<td>Boolean</td>
<td>false</td>
<td>是否显示当前 value</td>
<td></td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>完成一次拖动后触发的事件，event.detail = {value: value}</td>
<td></td>
</tr>
<tr>
<td>bindchanging</td>
<td>EventHandle</td>
<td></td>
<td>拖动过程中触发的事件，event.detail = {value: value}</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>switch</strong> 开关选择器</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>checked</td>
<td>Boolean</td>
<td>false</td>
<td>是否选中</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>switch</td>
<td>样式，有效值：switch, checkbox</td>
</tr>
<tr>
<td>bindchange</td>
<td>EventHandle</td>
<td></td>
<td>checked 改变时触发 change 事件，event.detail={ value:checked}</td>
</tr>
<tr>
<td>color</td>
<td>Color</td>
<td></td>
<td>switch 的颜色，同 css 的 color</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>textarea</strong> <em>(原生组件)</em></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>String</td>
<td></td>
<td>输入框的内容</td>
<td></td>
</tr>
<tr>
<td>placeholder</td>
<td>String</td>
<td></td>
<td>输入框为空时占位符</td>
<td></td>
</tr>
<tr>
<td>placeholder-style</td>
<td>String</td>
<td></td>
<td>指定 placeholder 的样式</td>
<td></td>
</tr>
<tr>
<td>placeholder-class</td>
<td>String</td>
<td>textarea-placeholder</td>
<td>指定 placeholder 的样式类</td>
<td></td>
</tr>
<tr>
<td>disabled</td>
<td>Boolean</td>
<td>false</td>
<td>是否禁用</td>
<td></td>
</tr>
<tr>
<td>maxlength</td>
<td>Number</td>
<td>140</td>
<td>最大输入长度，设置为 -1 的时候不限制最大长度</td>
<td></td>
</tr>
<tr>
<td>auto-focus</td>
<td>Boolean</td>
<td>false</td>
<td>自动聚焦，拉起键盘。</td>
<td></td>
</tr>
<tr>
<td>focus</td>
<td>Boolean</td>
<td>false</td>
<td>获取焦点</td>
<td></td>
</tr>
<tr>
<td>auto-height</td>
<td>Boolean</td>
<td>false</td>
<td>是否自动增高，设置 auto-height 时，style.height 不生效</td>
<td></td>
</tr>
<tr>
<td>fixed</td>
<td>Boolean</td>
<td>false</td>
<td>如果 textarea 是在一个 <code>position:fixed</code> 的区域，需要显示指定属性 fixed 为 true</td>
<td></td>
</tr>
<tr>
<td>cursor-spacing</td>
<td>Number</td>
<td>0</td>
<td>指定光标与键盘的距离，单位 px 。取 textarea 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离</td>
<td></td>
</tr>
<tr>
<td>cursor</td>
<td>Number</td>
<td></td>
<td>指定 focus 时的光标位置</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>show-confirm-bar</td>
<td>Boolean</td>
<td>true</td>
<td>是否显示键盘上方带有”完成“按钮那一栏</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.0</a></td>
</tr>
<tr>
<td>selection-start</td>
<td>Number</td>
<td>-1</td>
<td>光标起始位置，自动聚集时有效，需与 selection-end 搭配使用</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>selection-end</td>
<td>Number</td>
<td>-1</td>
<td>光标结束位置，自动聚集时有效，需与 selection-start 搭配使用</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>adjust-position</td>
<td>Boolean</td>
<td>true</td>
<td>键盘弹起时，是否自动上推页面</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.90</a></td>
</tr>
<tr>
<td>bindfocus</td>
<td>EventHandle</td>
<td></td>
<td>输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持</td>
<td></td>
</tr>
<tr>
<td>bindblur</td>
<td>EventHandle</td>
<td></td>
<td>输入框失去焦点时触发，event.detail = {value, cursor}</td>
<td></td>
</tr>
<tr>
<td>bindlinechange</td>
<td>EventHandle</td>
<td></td>
<td>输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}</td>
<td></td>
</tr>
<tr>
<td>bindinput</td>
<td>EventHandle</td>
<td></td>
<td>当键盘输入时，触发 input 事件，event.detail = {value, cursor}，<strong>bindinput 处理函数的返回值并不会反映到 textarea 上</strong></td>
<td></td>
</tr>
<tr>
<td>bindconfirm</td>
<td>EventHandle</td>
<td></td>
<td>点击完成时， 触发 confirm 事件，event.detail = {value: value}</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
</li>
<li><p>导航 Nav</p>
<ul>
<li><strong>navigator</strong> 页面链接</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>target</td>
<td>String</td>
<td></td>
<td>在哪个目标上发生跳转，默认当前小程序</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td></td>
<td>当前小程序内的跳转链接</td>
<td></td>
</tr>
<tr>
<td>open-type</td>
<td>String</td>
<td>navigate</td>
<td>跳转方式</td>
<td></td>
</tr>
<tr>
<td>delta</td>
<td>Number</td>
<td></td>
<td>当 open-type 为 ‘navigateBack’ 时有效，表示回退的层数</td>
<td></td>
</tr>
<tr>
<td>app-id</td>
<td>String</td>
<td></td>
<td>当 target=”miniProgram”时有效，要打开的小程序 appId</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>path</td>
<td>String</td>
<td></td>
<td>当 target=”miniProgram”时有效，打开的页面路径，如果为空则打开首页</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>extra-data</td>
<td>Object</td>
<td></td>
<td>当 target=”miniProgram”时有效，需要传递给目标小程序的数据，目标小程序可在 <code>App.onLaunch()</code>，<code>App.onShow()</code> 中获取到这份数据。<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html">详情</a></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>version</td>
<td>version</td>
<td>release</td>
<td>当 target=”miniProgram”时有效，要打开的小程序版本，有效值 develop（开发版），trial（体验版），release（正式版），仅在当前小程序为开发版或体验版时此参数有效；如果当前小程序是正式版，则打开的小程序必定是正式版。</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>hover-class</td>
<td>String</td>
<td>navigator-hover</td>
<td>指定点击时的样式类，当<code>hover-class=&quot;none&quot;</code>时，没有点击态效果</td>
<td></td>
</tr>
<tr>
<td>hover-stop-propagation</td>
<td>Boolean</td>
<td>false</td>
<td>指定是否阻止本节点的祖先节点出现点击态</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>hover-start-time</td>
<td>Number</td>
<td>50</td>
<td>按住后多久出现点击态，单位毫秒</td>
<td></td>
</tr>
<tr>
<td>hover-stay-time</td>
<td>Number</td>
<td>600</td>
<td>手指松开后点击态保留时间，单位毫秒</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>bindsuccess</td>
<td>String</td>
<td></td>
<td>当 target=”miniProgram”时有效，跳转小程序成功</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>binderror</td>
<td>String</td>
<td></td>
<td>当 target=”miniProgram”时有效，跳转小程序失败</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
<tr>
<td>bindcomplete</td>
<td>String</td>
<td></td>
<td>当 target=”miniProgram”时有效，跳转小程序完成</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.7</a></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>functional-page-navigator</strong></li>
</ul>
</li>
<li><p>媒体组件</p>
<ul>
<li><strong>audio</strong></li>
<li><strong>image</strong></li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>src</td>
<td>String</td>
<td></td>
<td>图片资源地址，支持云文件 ID（2.2.3 起）</td>
<td></td>
</tr>
<tr>
<td>mode</td>
<td>String</td>
<td>‘scaleToFill’</td>
<td>9 种图片裁剪、4 种缩放的模式 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/image.html">见文档</a></td>
<td></td>
</tr>
<tr>
<td>lazy-load</td>
<td>Boolean</td>
<td>false</td>
<td>图片懒加载。只针对 page 与 scroll-view 下的 image 有效</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
<tr>
<td>binderror</td>
<td>HandleEvent</td>
<td></td>
<td>当错误发生时，发布到 AppService 的事件名，事件对象 event.detail = {errMsg: ‘something wrong’}</td>
<td></td>
</tr>
<tr>
<td>bindload</td>
<td>HandleEvent</td>
<td></td>
<td>当图片载入完毕时，发布到 AppService 的事件名，事件对象 event.detail = {height:’图片高度 px’, width:’图片宽度 px’}</td>
<td></td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>video</strong> <em>(原生组件)</em></li>
<li><strong>camera</strong> <em>(原生组件)</em></li>
<li><strong>live-player</strong> <em>(原生组件)</em></li>
<li><strong>live-pusher</strong> <em>(原生组件)</em></li>
</ul>
</li>
<li><p>地图</p>
<ul>
<li><strong>map</strong> <em>(原生组件)</em></li>
</ul>
</li>
<li><p>画布</p>
<ul>
<li><strong>canvas</strong> <em>(原生组件)</em></li>
</ul>
</li>
<li><p>开放能力</p>
<ul>
<li><strong>open-data</strong> 用于展示微信开放的数据</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>属性名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>type</td>
<td>String</td>
<td></td>
<td>开放数据类型 8 种有效值：<code>groupName</code> <code>userNickName</code> <code>userAvatarUrl</code> <code>userGender</code> <code>userCity</code> <code>userProvince</code> <code>userCountry</code> <code>userLanguage</code> <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/open-data.html">见文档</a></td>
</tr>
<tr>
<td>open-gid</td>
<td>String</td>
<td></td>
<td>当 type=”groupName” 时生效, 群 id</td>
</tr>
<tr>
<td>lang</td>
<td>String</td>
<td>en</td>
<td>当 type=”user*“ 时生效，以哪种语言展示 userInfo，有效值有：en, zh_CN, zh_TW</td>
</tr>
</tbody></table>
</blockquote>
<ul>
<li><strong>web-view</strong></li>
<li><strong>ad</strong></li>
</ul>
</li>
</ul>
<p><em>原生组件的 使用限制 见<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html">官方文档</a></em></p>
<h1 id="3-逻辑层"><a href="#3-逻辑层" class="headerlink" title="3 逻辑层"></a>3 逻辑层</h1><h2 id="3-1-注册程序-App"><a href="#3-1-注册程序-App" class="headerlink" title="3.1 注册程序 App()"></a>3.1 注册程序 App()</h2><p><strong>App({object}) 必须在 app.js 中调用，必须调用且只能调用一次。不然会出现无法预期的后果。</strong></p>
<blockquote>
<p>示例：</p>
<pre class=" language-js"><code class="language-js"><span class="token function">App</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  onLaunch<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something initial when launch.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onShow<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when show.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onHide<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when hide.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onError<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  globalData<span class="token punctuation">:</span> <span class="token string">"I am global data"</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
<th>触发时机</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html#onlaunchobject">onLaunch</a></td>
<td>Function</td>
<td>生命周期回调—监听小程序初始化</td>
<td>小程序初始化完成时（全局只触发一次）</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html#onshowobject">onShow</a></td>
<td>Function</td>
<td>生命周期回调—监听小程序显示</td>
<td>小程序启动，或从后台进入前台显示时</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html#onhide">onHide</a></td>
<td>Function</td>
<td>生命周期回调—监听小程序隐藏</td>
<td>小程序从前台进入后台时</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html#onerrorstring-error">onError</a></td>
<td>Function</td>
<td>错误监听函数</td>
<td>小程序发生脚本错误，或者 api 调用失败时触发，会带上错误信息</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html#onpagenotfoundobject">onPageNotFound</a></td>
<td>Function</td>
<td>页面不存在监听函数</td>
<td>小程序要打开的页面不存在时触发，会带上页面信息回调该函数</td>
</tr>
<tr>
<td>其他</td>
<td>Any</td>
<td>开发者可以添加任意的全局函数或数据到 <code>Object</code> 参数中，用 <code>this</code> 可以访问</td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p><code>onLaunch / onShow(Object)</code> 的 object 参数说明：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>path</td>
<td>String</td>
<td>打开小程序的路径</td>
</tr>
<tr>
<td>query</td>
<td>Object</td>
<td>打开小程序的 query</td>
</tr>
<tr>
<td>scene</td>
<td>Number</td>
<td>打开小程序的<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/scene.html">场景值</a></td>
</tr>
<tr>
<td>shareTicket</td>
<td>String</td>
<td>shareTicket，详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/share.html#%E8%8E%B7%E5%8F%96%E6%9B%B4%E5%A4%9A%E8%BD%AC%E5%8F%91%E4%BF%A1%E6%81%AF">获取更多转发信息</a></td>
</tr>
<tr>
<td>referrerInfo</td>
<td>Object</td>
<td>当场景为由从另一个小程序或公众号或 App 打开时，返回此字段</td>
</tr>
<tr>
<td>referrerInfo.appId</td>
<td>String</td>
<td>来源小程序或公众号或 App 的 appId <em>支持此属性的场景值 scene 有：<a href="%E6%9D%A5%E6%BA%90%E5%85%AC%E4%BC%97%E5%8F%B7Profile%E9%A1%B5%E7%9B%B8%E5%85%B3%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%88%97%E8%A1%A8">1020</a>,<a href="%E6%9D%A5%E6%BA%90%E5%85%AC%E4%BC%97%E5%8F%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E8%8F%9C%E5%8D%95">1035</a>,<a href="%E6%9D%A5%E6%BA%90APP%E5%88%86%E4%BA%AB%E6%B6%88%E6%81%AF%E5%8D%A1%E7%89%87">1036</a>,<a href="%E6%9D%A5%E6%BA%90%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%89%93%E5%BC%80">1037</a>,<a href="%E4%BB%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%BF%94%E5%9B%9E">1038</a>,<a href="%E6%9D%A5%E6%BA%90%E5%85%AC%E4%BC%97%E5%8F%B7%E6%A8%A1%E6%9D%BF%E6%B6%88%E6%81%AF">1043</a></em></td>
</tr>
<tr>
<td>referrerInfo.extraData</td>
<td>Object</td>
<td>来源小程序传过来的数据，scene=1037 或 1038 时支持</td>
</tr>
</tbody></table>
</li>
<li><p><code>onPageNotFound(Object)</code> 的 object 参数说明：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>path</td>
<td>String</td>
<td>不存在页面的路径</td>
</tr>
<tr>
<td>query</td>
<td>Object</td>
<td>打开不存在页面的 query</td>
</tr>
<tr>
<td>isEntryPage</td>
<td>Boolean</td>
<td>是否本次启动的首个页面（例如从分享等入口进来，首个页面是开发者配置的分享页面）</td>
</tr>
</tbody></table>
</li>
</ul>
<p><strong>全局的<code>getApp([allowDefault])</code></strong> 的示例：</p>
<blockquote>
<p>allowDefault 是类型为 boolean 的可选参数，在 <code>App</code> 未定义时返回默认实现。当 App 被调用时，默认实现中定义的属性会被覆盖合并到 App 中</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// other.js</span>
<span class="token keyword">var</span> appInstance <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>appInstance<span class="token punctuation">.</span>globalData<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// I am global data</span>
</code></pre>
</blockquote>
<h2 id="3-2-注册页面-Page-Object"><a href="#3-2-注册页面-Page-Object" class="headerlink" title="3.2 注册页面 Page(Object)"></a>3.2 注册页面 Page(Object)</h2><p><code>Page(Object)</code> 函数用来注册一个页面。接受一个 <code>Object</code> 类型参数，其指定页面的初始数据、生命周期回调、事件处理函数等。</p>
<blockquote>
<p>示例：</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//index.js</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  data<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    text<span class="token punctuation">:</span> <span class="token string">"This is page data."</span><span class="token punctuation">,</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do some initialize when page load.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onReady<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page ready.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onShow<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page show.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onHide<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page hide.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onUnload<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page close.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onPullDownRefresh<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when pull down.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onReachBottom<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page reach bottom.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// return custom share data when user share.</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  onPageScroll<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// Do something when page scroll</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token function">onTabItemTap</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">// Event handler.</span>
  viewTap<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>
      <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        text<span class="token punctuation">:</span> <span class="token string">"Set some data for updating view."</span><span class="token punctuation">,</span>
      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// this is setData callback</span>
      <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  customData<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    hi<span class="token punctuation">:</span> <span class="token string">"MINA"</span><span class="token punctuation">,</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>属性</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#data">data</a></td>
<td>Object</td>
<td>页面第一次渲染使用的初始数据</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onloadobject-query">onLoad</a></td>
<td>Function</td>
<td>生命周期回调—监听页面加载</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onshow">onShow</a></td>
<td>Function</td>
<td>生命周期回调—监听页面显示，页面显示/切入前台时触发。</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onready">onReady</a></td>
<td>Function</td>
<td>生命周期回调—监听页面初次渲染完成。一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onhide">onHide</a></td>
<td>Function</td>
<td>生命周期回调—监听页面隐藏，页面隐藏/切入后台时触发。如 <code>navigateTo</code> 或底部 <code>tab</code> 切换到其他页面，小程序切入后台等。</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onunload">onUnload</a></td>
<td>Function</td>
<td>生命周期回调—监听页面卸载，如<code>redirectTo</code>或<code>navigateBack</code>到其他页面时。</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpulldownrefresh">onPullDownRefresh</a></td>
<td>Function</td>
<td>监听用户下拉刷新动作</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onreachbottom">onReachBottom</a></td>
<td>Function</td>
<td>监听用户上拉触底事件</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onpagescrollobject">onPageScroll</a></td>
<td>Function</td>
<td>监听用户滑动页面事件</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#onshareappmessageobject">onShareAppMessage</a></td>
<td>Function</td>
<td>监听用户点击页面内转发按钮（<code>&lt;button&gt;</code> 组件 <code>open-type=&quot;share&quot;</code>）或右上角菜单“转发”按钮的行为</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#ontabitemtapobject">onTabItemTap</a></td>
<td>Function</td>
<td>监听 tab 点击事件，当前是 tab 页时，点击 tab 时触发</td>
</tr>
<tr>
<td>其他</td>
<td>Any</td>
<td>开发者可以添加任意的函数或数据到 <code>Object</code> 参数中，在页面的函数中用 <code>this</code> 可以访问</td>
</tr>
</tbody></table>
<ul>
<li><p>data</p>
<p>页面加载时，<code>data</code> 将会以<code>JSON</code>字符串的形式由逻辑层传至渲染层，因此<code>data</code>中的数据必须是可以转成<code>JSON</code>的类型：字符串，数字，布尔值，对象，数组。</p>
<blockquote>
<pre class=" language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  data<span class="token punctuation">:</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    text<span class="token punctuation">:</span> <span class="token string">"init data"</span><span class="token punctuation">,</span>
    array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> msg<span class="token punctuation">:</span> <span class="token string">"1"</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> msg<span class="token punctuation">:</span> <span class="token string">"2"</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
<li><p>声明周期回调函数</p>
<ul>
<li><p>onLoad(query)</p>
<p>页面加载时触发。一个页面只会调用一次，可以在 onLoad 的参数中获取 打开当前页面路径中的参数 query。</p>
</li>
<li><p>onShow()</p>
</li>
<li><p>onReady()</p>
</li>
<li><p>onHide()</p>
</li>
<li><p>onUnload()</p>
</li>
</ul>
</li>
<li><p>页面事件处理函数</p>
<ul>
<li><p>onPullDownRefresh()</p>
<ul>
<li>需要在<code>app.json</code>的<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#window"><code>window</code></a>选项中或<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">页面配置</a>中开启<code>enablePullDownRefresh</code>。</li>
<li>可以通过<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/pulldown.html#wxstartpulldownrefreshobject"><code>wx.startPullDownRefresh</code></a>触发下拉刷新，调用后触发下拉刷新动画，效果与用户手动下拉刷新一致。</li>
<li>当处理完数据刷新后，<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/pulldown.html#wxstoppulldownrefresh"><code>wx.stopPullDownRefresh</code></a>可以停止当前页面的下拉刷新。</li>
</ul>
</li>
<li><p>onReachBottom()</p>
<ul>
<li>可以在<code>app.json</code>的<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#window"><code>window</code></a>选项中或<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">页面配置</a>中设置触发距离<code>onReachBottomDistance</code>。</li>
<li>在触发距离内滑动期间，本事件只会被触发一次。</li>
</ul>
</li>
<li><p>onPageScroll(scrollTop)</p>
<p>scrollTop 是 类型为 Number 的参数 ，页面在垂直方向已滚动的距离（单位 px）</p>
</li>
<li><p>onShareAppMessage(Object)</p>
<p><strong>注意：只有定义了此事件处理函数，右上角菜单才会显示“转发”按钮</strong> 参数说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>from</td>
<td>String</td>
<td>转发事件来源。 <code>button</code>：页面内转发按钮； <code>menu</code>：右上角转发菜单</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.2.4</a></td>
</tr>
<tr>
<td>target</td>
<td>Object</td>
<td>如果 <code>from</code> 值是 <code>button</code>，则 <code>target</code> 是触发这次转发事件的 <code>button</code>，否则为 <code>undefined</code></td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.2.4</a></td>
</tr>
<tr>
<td>webViewUrl</td>
<td>String</td>
<td>页面中包含<code>&lt;web-view&gt;</code>组件时，返回当前<code>&lt;web-view&gt;</code>的 url</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.4</a></td>
</tr>
</tbody></table>
<p><strong>必须 return 一个 Object，用于自定义 转发内容</strong></p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
<th>默认值</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>转发标题</td>
<td>当前小程序名称</td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>转发路径</td>
<td>当前页面 path ，必须是以 / 开头的完整路径</td>
<td></td>
</tr>
<tr>
<td>imageUrl</td>
<td>自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径。支持 PNG 及 JPG。显示图片长宽比是 5:4。</td>
<td>使用默认截图</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a></td>
</tr>
</tbody></table>
<blockquote>
<p>例：</p>
<pre class=" language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token keyword">from</span> <span class="token operator">===</span> <span class="token string">"button"</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      <span class="token comment" spellcheck="true">// 来自页面内转发按钮</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
      title<span class="token punctuation">:</span> <span class="token string">"自定义转发标题"</span><span class="token punctuation">,</span>
      path<span class="token punctuation">:</span> <span class="token string">"/page/user?id=123"</span><span class="token punctuation">,</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
<li><p>onTabItemTap(Object)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>说明</th>
<th>最低版本</th>
</tr>
</thead>
<tbody><tr>
<td>index</td>
<td>String</td>
<td>被点击 tabItem 的序号，从 0 开始</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>pagePath</td>
<td>String</td>
<td>被点击 tabItem 的页面路径</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
<tr>
<td>text</td>
<td>String</td>
<td>被点击 tabItem 的按钮文字</td>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.9.0</a></td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>组件事件处理函数</p>
<p>即事件绑定</p>
<blockquote>
<pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewTap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> click me <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span>
</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  viewTap<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"view tap"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
</li>
</ul>
<p><strong><code>this.route</code></strong> 返回当前页面的路径</p>
<p><strong><code>this.setData(Object data[,Function callback])</code></strong> 将数据从逻辑层发送到视图层（异步），同时改变对应的 <code>this.data</code> 的值（同步）。function 指 setData 引起的界面更新渲染完毕后的回调函数。</p>
<h2 id="3-3-路由机制"><a href="#3-3-路由机制" class="headerlink" title="3.3 路由机制"></a>3.3 路由机制</h2><p><code>getCurrentPages()</code> 函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面</p>
<ul>
<li><code>navigateTo</code>, <code>redirectTo</code> 只能打开非 tabBar 页面。</li>
<li><code>switchTab</code> 只能打开 tabBar 页面。</li>
<li><code>reLaunch</code> 可以打开任意页面。</li>
<li>页面底部的 tabBar 由页面决定，即只要是定义为 tabBar 的页面，底部都有 tabBar。</li>
<li>调用页面路由带的参数可以在目标页面的<code>onLoad</code>中获取。</li>
</ul>
<h2 id="3-4-模块化"><a href="#3-4-模块化" class="headerlink" title="3.4 模块化"></a>3.4 模块化</h2><p>app.js 内是全局函数和变量；</p>
<p>通过<code>module.exports.xxA = xx</code> 来暴露接口；通过 <code>var common = require(&#39;common.js&#39;)</code> 来引入接口 <em>暂不支持绝对路径</em></p>
<blockquote>
<p>例子：</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// common.js</span>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Hello $&amp;#123;name&amp;#125; !`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">sayGoodbye</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Goodbye $&amp;#123;name&amp;#125; !`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>sayHello <span class="token operator">=</span> sayHello<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>sayGoodbye <span class="token operator">=</span> sayGoodbye<span class="token punctuation">;</span>
</code></pre>
<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"common.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
  helloMINA<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    common<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">"MINA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  goodbyeMINA<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    common<span class="token punctuation">.</span><span class="token function">sayGoodbye</span><span class="token punctuation">(</span><span class="token string">"MINA"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</blockquote>
<h2 id="3-5-原生-API"><a href="#3-5-原生-API" class="headerlink" title="3.5 原生 API"></a>3.5 原生 API</h2><p>提供丰富的微信原生 API，可以方便的调起微信提供的能力，如获取用户信息，本地存储，支付功能等。</p>
<p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/">API</a></p>

            </div>
            <hr/>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">能否打赏一杯咖啡?</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信“扫一扫”</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《微信小程序-原生》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/03/02/bi-ji-wei-xin-xiao-cheng-xu-yuan-sheng/" property="cc:attributionName"
               rel="cc:attributionURL">
                Ryan Who
            </a> 采用
            <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        margin: unset;
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        margin: unset;
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        margin: unset;
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        margin: unset;
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        margin: unset;
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        margin: unset;
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'nIm0EpgkwmISA1OvAkn9CuKp-MdYXbMMI',
        appKey: 'MaeG3zmgpfFBHEU6pa22dF0t',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'retro',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>
    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/03/21/xiang-mu-cms/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="CMS后台应用管理系统">
                        
                        <span class="card-title">CMS后台应用管理系统</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            

Overview一个企业OA系统 服务于企业内部存储和分享建模模型仓库的人员、部门及模型库管理。分4大方面：员工管理；建模软件权限分配；模型库管理及统计；企业信息及本系统设置
Demo
Mock随机数据 在线预览地址

技术栈
Vue前
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-03-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E9%AA%8C/" class="post-category" target="_blank">
                                    项目经验
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/vue/" target="_blank">
                        <span class="chip bg-color">vue</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/03/02/bi-ji-taro/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/8.jpg" class="responsive-img" alt="Taro多端统一开发解决方案">
                        
                        <span class="card-title">Taro多端统一开发解决方案</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Taro简介使用 Taro，我们可以只书写一套代码，再通过 Taro 的编译工具，将源代码分别编译出可以在不同端（微信/百度/支付宝/字节跳动/QQ/京东小程序、快应用、H5、React-Native 等）运行的代码小程序框架评测

Rea
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-03-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%AC%94%E8%AE%B0/" class="post-category" target="_blank">
                                    笔记
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/todo/" target="_blank">
                        <span class="chip bg-color">todo</span>
                    </a>
                    
                    <a href="/tags/%E8%B7%A8%E7%AB%AF/" target="_blank">
                        <span class="chip bg-color">跨端</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + "来源: Hojondo's<br />"
            + '作者: Ryan Who<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>

 <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2019 Hojondo. All Rights Reserved.

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">183.2k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hztdream@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>








</div>
    </div>
</footer>

<!-- 不蒜子计数 虚拟初始值 -->
<!--<script>-->
<!--    $(document).ready(function () {-->

<!--        var int = setInterval(fixCount, 50);-->
<!--        var pvcountOffset = 80000;-->
<!--        var uvcountOffset = 20000;-->

<!--        function fixCount() {-->
<!--            console.log('fixCount');-->
<!--            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {-->
<!--                console.log('document');-->
<!--                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);-->
<!--                clearInterval(int);-->
<!--            }-->
<!--            if ($("#busuanzi_container_site_pv").css("display") != "none") {-->
<!--                console.log('jquery');-->
<!--                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据-->
<!--                clearInterval(int);-->
<!--            }-->
<!--        }-->
<!--    });-->
<!--</script>-->

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2019, 8, 1, 0, 0, 0);
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>
 <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script> <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

     
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    
    <!--<script src="https://api.itswincer.com/hitokoto/v2/?encode=js" defer></script>-->
    <script src="https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js"></script>
    <!-- <script>
      fetch("https://v1.hitokoto.cn")
        .then(function (res) {
          return res.json();
        })
        .then(function (data) {
          var hitokoto = document.getElementById("hitokoto");
          if (!!hitokoto)
            hitokoto.innerText = "\xa0\xa0\xa0\xa0\xa0\xa0\xa0" + data.hitokoto;
          var hitofrom = document.getElementById("hitofrom");
          if (!!hitofrom) hitofrom.innerText = "— 「" + data.from + "\xa0」";
        })
        .catch(function (err) {
          console.error(err);
        });
    </script> -->
    <script>
      function subtitleType() {
        fetch("https://v1.hitokoto.cn")
          .then((response) => response.json())
          .then((data) => {
            var from = "— 「\xa0" + data.from + "\xa0」";
            var sub = new Array(data.hitokoto);
            var hitokoto = document.getElementById("hitokoto");
            if (!!hitokoto)
              var typed = new Typed("#hitokoto", {
                strings: sub,
                startDelay: 300,
                typeSpeed: 150,
                loop: true,
                backSpeed: 50,
              });
            var hitofrom = document.getElementById("hitofrom");
            if (!!hitofrom) hitofrom.innerText = from;
          })
          .catch(function (err) {
            console.error(err);
          });
      }
      subtitleType();
    </script>
  </body>
</html>
